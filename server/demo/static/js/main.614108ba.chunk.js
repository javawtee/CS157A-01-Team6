(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{101:function(e,t,a){},172:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(39),s=a.n(i),l=(a(95),a(8)),c=(a(101),a(35)),o=a(7),u=a(85),m=a(16),d=a(17),p=a(19),g=a(18),f=a(20),h={userid:"",password:"",validuserid:!0,validpassword:!0},k=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).handleOnFocus=function(e){"password"===e.target.id&&a.setState({password:""})},a.handleChange=function(e){var t,n="valid".concat(e.target.id);a.setState((t={},Object(o.a)(t,e.target.name,e.target.value),Object(o.a)(t,n,!0),t))},a.clearForm=function(e){return a.setState(h)},a.submitSignIn=function(e){e.preventDefault();var t=a.state.userid.length>0,n=a.state.password.length>0;if(!t||!n)return a.setState({validuserid:t,validpassword:n});a.props.signin(a.state.userid,a.state.password)},a.state=h,a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"uk-card uk-card-default uk-card-body uk-width-1-2@l uk-align-center"},r.a.createElement("form",{id:"signInForm",className:"uk-from-stacked",onSubmit:this.submitSignIn},r.a.createElement("div",{className:"uk-child-width-1-1"},r.a.createElement("div",{className:"uk-inline"},r.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: user"}),r.a.createElement("input",{id:"userid",className:"uk-input ".concat(this.state.validuserid?"":"uk-form-danger"),name:"userid",onChange:this.handleChange,value:this.state.userid,placeholder:"Email"}))),r.a.createElement("div",{className:"uk-margin uk-child-width-1-1"},r.a.createElement("div",{className:"uk-inline uk-form-password"},r.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: lock"}),r.a.createElement("input",{id:"password",className:"uk-input ".concat(this.state.validpassword?"":"uk-form-danger"),type:"password",onFocus:this.handleOnFocus,onChange:this.handleChange,name:"password",value:this.state.password,placeholder:"Password"}))),r.a.createElement("div",{className:"uk-margin-small uk-child-width-1-1"},r.a.createElement("button",{className:"uk-button uk-button-primary uk-text-large"},"Sign In"))),r.a.createElement("div",{className:"uk-margin-small uk-child-width-1-1 uk-text-right"},r.a.createElement("a",{className:"uk-text-small",href:"#forgotPassword","uk-toggle":"",onClick:this.clearForm},"Forgot password?")),r.a.createElement("div",{className:"uk-margin-small uk-child-width-1-3 uk-text-right"},r.a.createElement("span",null,"Not a member?"),r.a.createElement("a",{className:"uk-text-bold uk-margin-small-left",style:{verticalAlign:"baseline"},href:"#signUp","uk-toggle":"",onClick:this.clearForm},"Enroll now")),r.a.createElement("div",{className:"uk-margin-small-bottom uk-card-footer"},r.a.createElement("small",null,"CS157A-01 - TEAM 6")))}}]),t}(n.Component),E=Object(l.b)(function(e){return{authenticated:e.background.authenticated}},function(e){return{signin:function(t,a){return e({type:"SIGN_IN",payload:{email:t,password:a}})}}})(k),b=a(10),v=a.n(b),O=a(86),w=a.n(O),y=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},N=function(e){return w()(e).score>1},T={email:"",valid:!0},P=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).handleChange=function(e){var t;return a.setState((t={},Object(o.a)(t,e.target.name,e.target.value),Object(o.a)(t,"valid",!0),t))},a.handleSubmit=function(e){if(e.preventDefault(),!(a.state.email.length>0&&y(a.state.email)))return a.setState({valid:!1});a.props.dispatch({type:"RECOVERY_LINK",email:a.state.email})},a.state=T,a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return v.a.util.on(document,"beforeshow","#forgotPassword",function(){return e.setState(T)}),r.a.createElement("div",{id:"forgotPassword",className:"uk-flex-top",style:{zIndex:5},"uk-modal":"bg-close: false"},r.a.createElement("div",{className:"uk-modal-dialog uk-margin-auto-vertical"},r.a.createElement("button",{className:"uk-modal-close-default","uk-close":""}),r.a.createElement("div",{className:"uk-modal-header"},r.a.createElement("h2",{className:"uk-modal-title"},"Easy to reset your password")),r.a.createElement("div",{className:"uk-modal-body"},r.a.createElement("input",{id:"email",className:"uk-input ".concat(this.state.valid?"":"uk-form-danger"),type:"text",placeholder:"Enter your registered email",name:"email",onChange:this.handleChange,value:this.state.email,autoComplete:"off"}),r.a.createElement("small",{style:{color:"red",display:this.state.valid?"none":""}},"Please enter a valid email")),r.a.createElement("div",{className:"uk-modal-footer uk-text-right"},r.a.createElement("button",{className:"uk-button uk-button-primary uk-margin-small-right",onClick:this.handleSubmit},"Submit"),r.a.createElement("button",{className:"uk-button uk-button-danger","uk-toggle":"target: #forgotPassword"},"Cancel"))))}}]),t}(n.Component),j=Object(l.b)(null,null)(P);function I(e){var t=e.passwordId,a=e.passwordValue,n=e.confirmPasswordId,i=e.confirmPasswordValue,s=e.isValidPassword,l=e.isValidConfirmPassword,c=e.onChange,o=e.onFocus;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"uk-width-1-1"},r.a.createElement("label",{className:"uk-form-label uk-text-bold",htmlFor:"form-stacked-text"},"Password"),r.a.createElement("input",{id:t,className:"uk-input ".concat(s?"":"uk-form-danger"),type:"password",placeholder:"Password",name:t,value:a,onChange:c,onFocus:o}),r.a.createElement("small",{style:{color:"red",display:s?"none":""}},"Password is too simple"),r.a.createElement("p",{style:{marginTop:"1px"}},r.a.createElement("small",null,"* Password must have at least 6 characters"),r.a.createElement("br",null),r.a.createElement("small",null,"* Password should contain at least a letter or a number"),r.a.createElement("br",null),r.a.createElement("small",null,"* Password should contain a special character (!@#$%^&*)"),r.a.createElement("br",null))),r.a.createElement("div",{className:"uk-width-1-1"},r.a.createElement("label",{className:"uk-form-label uk-text-bold",htmlFor:"form-stacked-text"},"Confirm password"),r.a.createElement("input",{id:n,className:"uk-input ".concat(l?"":"uk-form-danger"),type:"password",placeholder:"Confirm password",name:n,value:i,onChange:c}),r.a.createElement("small",{style:{color:"red",display:l?"none":""}},"Password is not matching")))}var S={firstName:"",middleInitial:"",lastName:"",signupEmail:"",confirmEmail:"",signupPassword:"",confirmPassword:"",validfirstName:!0,validmiddleInitial:!0,validlastName:!0,validsignupEmail:!0,validconfirmEmail:!0,validsignupPassword:!0,validconfirmPassword:!0,duplicateEmail:!1},D=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).handleChange=function(e){var t,n="valid".concat(e.target.id),r="signupEmail"!==e.target.name&&a.state.duplicateEmail;a.setState((t={},Object(o.a)(t,e.target.name,e.target.value),Object(o.a)(t,n,!0),Object(o.a)(t,"duplicateEmail",r),t))},a.handleOnFocusPassword=function(e){a.setState({signupPassword:"",confirmPassword:"",validsignupPassword:!0,validconfirmPassword:!0})},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.firstName,r=t.lastName,i=t.middleInitial,s=t.signupEmail,l=t.confirmEmail,c=t.signupPassword,o=t.confirmPassword,u=n.length>1,m=r.length>1,d=0===i.length||i.length>0&&isNaN(i),p=s.length>0&&y(s),g=l.length>0&&l===s,f=c.length>5&&N(c),h=o.length>5&&o===c;if(!u||!m||!d||!p||!g||!f||!h)return a.setState({validfirstName:u,validlastName:m,validmiddleInitial:d,validsignupEmail:p,validconfirmEmail:g,validsignupPassword:f,validconfirmPassword:h});a.props.sendSignUpForm({firstName:n,lastName:r,middleInitial:i,signupEmail:s,signupPassword:c},function(e){switch(e){case"success":return v.a.modal("#signUp").hide(),v.a.modal.dialog('<p class="uk-modal-body" style="color:green;text-align:center;">Successfully created an account</p>');case"duplicate":return a.setState({duplicateEmail:!0,confirmEmail:""});default:return}})},a.state=S,a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return v.a.util.on(document,"beforeshow","#signUp",function(){return e.setState(S)}),r.a.createElement("div",{id:"signUp",className:"uk-flex-top",style:{zIndex:5},"uk-modal":"bg-close: false"},r.a.createElement("div",{className:"uk-modal-dialog uk-margin-auto-vertical"},r.a.createElement("button",{className:"uk-modal-close-default","uk-close":""}),r.a.createElement("div",{className:"uk-modal-header"},r.a.createElement("h2",{className:"uk-modal-title"},"Create Account")),r.a.createElement("div",{className:"uk-modal-body"},r.a.createElement("form",{className:"uk-form-stacked uk-grid-small","uk-grid":""},r.a.createElement("div",{className:"uk-width-3-5 uk-width-4-5@m"},r.a.createElement("label",{className:"uk-form-label uk-text-bold",htmlFor:"form-stacked-text"},"First Name"),r.a.createElement("input",{id:"firstName",className:"uk-input ".concat(this.state.validfirstName?"":"uk-form-danger"),type:"text",placeholder:"john",name:"firstName",onChange:this.handleChange,value:this.state.firstName}),r.a.createElement("small",{style:{color:"red",display:this.state.validfirstName?"none":""}},"First name is too short")),r.a.createElement("div",{className:"uk-width-2-5 uk-width-1-5@m"},r.a.createElement("label",{className:"uk-form-label uk-text-bold",htmlFor:"form-stacked-text"},"Middle Initial"),r.a.createElement("input",{id:"middleInitial",className:"uk-input ".concat(this.state.validmiddleInitial?"":"uk-form-danger"),type:"text",maxLength:1,name:"middleInitial",onChange:this.handleChange,value:this.state.middleInitial}),r.a.createElement("small",{style:{color:"red",display:this.state.validmiddleInitial?"none":""}},"Alphabetics only")),r.a.createElement("div",{className:"uk-width-1-1"},r.a.createElement("label",{className:"uk-form-label uk-text-bold",htmlFor:"form-stacked-text"},"Last Name"),r.a.createElement("input",{id:"lastName",className:"uk-input ".concat(this.state.validlastName?"":"uk-form-danger"),type:"text",placeholder:"doe",name:"lastName",onChange:this.handleChange,value:this.state.lastName}),r.a.createElement("small",{style:{color:"red",display:this.state.validlastName?"none":""}},"Last name is too short")),r.a.createElement("div",{className:"uk-width-1-1"},r.a.createElement("label",{className:"uk-form-label uk-text-bold",htmlFor:"form-stacked-text"},"Email"),r.a.createElement("input",{id:"signupEmail",className:"uk-input ".concat(this.state.validsignupEmail?"":"uk-form-danger","\n                                                         ").concat(!1===this.state.duplicateEmail?"":"uk-form-danger"),type:"text",placeholder:"john.doe@domain.com",name:"signupEmail",onChange:this.handleChange,value:this.state.signupEmail}),r.a.createElement("small",{style:{color:"red",display:this.state.validsignupEmail?"none":""}},"Email is not valid"),r.a.createElement("small",{style:{color:"red",display:this.state.duplicateEmail?"":"none"}},"Email is already taken")),r.a.createElement("div",{className:"uk-width-1-1"},r.a.createElement("label",{className:"uk-form-label uk-text-bold",htmlFor:"form-stacked-text"},"Confirm Email"),r.a.createElement("input",{id:"confirmEmail",className:"uk-input ".concat(this.state.validconfirmEmail?"":"uk-form-danger"),type:"text",placeholder:"john.doe@domain.com",name:"confirmEmail",onChange:this.handleChange,value:this.state.confirmEmail}),r.a.createElement("small",{style:{color:"red",display:this.state.validconfirmEmail?"none":""}},"Email is not matching")),r.a.createElement(I,{passwordId:"signupPassword",passwordValue:this.state.signupPassword,isValidPassword:this.state.validsignupPassword,confirmPasswordId:"confirmPassword",confirmPasswordValue:this.state.confirmPassword,isValidConfirmPassword:this.state.validconfirmPassword,onChange:this.handleChange,onFocus:this.handleOnFocusPassword}))),r.a.createElement("div",{className:"uk-modal-footer uk-text-right"},r.a.createElement("button",{className:"uk-button uk-button-primary uk-margin-small-right",onClick:this.handleSubmit},"Submit"),r.a.createElement("button",{className:"uk-button uk-button-danger","uk-toggle":"target: #signUp"},"Cancel"))))}}]),t}(n.Component),x=Object(l.b)(null,function(e){return{sendSignUpForm:function(t,a){return e({type:"SIGN_UP",payload:t,callback:a})}}})(D);var F=a(174);function _(e){var t=e.data.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"uk-table-link"},r.a.createElement("a",{href:"/booking=".concat(e.bookingNumber,"_").concat(e.departFrom,"|").concat(e.departTime,"_").concat(e.arriveTo,"|").concat(e.arriveTime)},e.bookingNumber)),r.a.createElement("td",null,e.departFrom),r.a.createElement("td",null,Object(F.default)(new Date(e.departTime),"MM/dd/yyyy hh:mm a")),r.a.createElement("td",null,e.arriveTo),r.a.createElement("td",null,Object(F.default)(new Date(e.arriveTime),"MM/dd/yyyy hh:mm a")))});return r.a.createElement("div",{className:"uk-overflow-auto uk-margin-small-bottom"},r.a.createElement("table",{className:"uk-table uk-table-responsive uk-table-divider uk-text-small"},r.a.createElement("caption",null,r.a.createElement("h4",null,e.caption)),e.data.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"uk-width-small"},"Booking Number"),r.a.createElement("th",{className:"uk-table-expand"},"Depart From"),r.a.createElement("th",null,"Depart Time"),r.a.createElement("th",{className:"uk-table-expand"},"Arrive To"),r.a.createElement("th",null,"Arrive Time"))),r.a.createElement("tbody",null,t)):r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"uk-table-expand"},"Found no record")))))}var A=a(108),R=a(176),C=a(177),L=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){a.props.getFlights()},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t,a=this.props.flights;return a&&(e=a.filter(function(e){return Object(A.default)(new Date(e.departTime),new Date)}).sort(function(e,t){return Object(R.a)(new Date(e.departTime),new Date(t.departTime))}),t=a.filter(function(t){return!e.includes(t)}).sort(function(e,t){return Object(C.a)(new Date(e.arriveTime),new Date(t.arriveTime))})),r.a.createElement("div",null,a&&r.a.createElement("div",{className:"uk-margin-top","uk-height-viewport":"expand: true",style:{backgroundColor:"white"}},r.a.createElement(_,{caption:"Reservations",data:e}),r.a.createElement(_,{caption:"Flight History",data:t})))}}]),t}(n.Component),B=Object(l.b)(function(e){return{flights:e.user.flights}},function(e){return{getFlights:function(){return e({type:"USER_GET_FLIGHTS"})}}})(L),G=a(11);function U(e){var t=e.DEPART_FROM,a=e.ARRIVE_TO,n=e.DEPART_TIME,i=e.ARRIVE_TIME;return r.a.createElement("div",{className:"uk-margin-auto@s uk-width-1-1","uk-grid":""},r.a.createElement("div",{className:"uk-width-1-1 uk-margin-remove-top"},"Departure",r.a.createElement("br",null),r.a.createElement("span",{className:"uk-width-1-1 uk-text-bold uk-padding-remove"},t," ",r.a.createElement("br",null),Object(F.default)(new Date(n),"MM/dd/yyyy hh:mm a"))),r.a.createElement("span",{className:"uk-width-1-1 uk-margin-remove-vertical","uk-icon":"icon: arrow-right"}),r.a.createElement("div",{className:"uk-width-1-1 uk-margin-remove-top"},"Arrival",r.a.createElement("br",null),r.a.createElement("span",{className:"uk-width-1-1 uk-text-bold uk-padding-remove"},a," ",r.a.createElement("br",null),Object(F.default)(new Date(i),"MM/dd/yyyy hh:mm a"))))}function M(e){var t=Object(l.c)(),a=Object(l.d)(function(e){return{bookingPassengers:e.user.bookingPassengers}}).bookingPassengers,i=Object(n.useState)(void 0),s=Object(G.a)(i,2),c=s[0],o=s[1];Object(n.useEffect)(function(){!c&&a&&(a.forEach(function(e){return e.isChecked=!1}),o(a))},[c]);var u=function(e){t({type:"UPDATE_BOOKING",id:Number(e.target.id),isChecked:e.target.checked})};return r.a.createElement("div",{className:"uk-width-1-1"},c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"uk-overflow-auto"},r.a.createElement("table",{className:"uk-table uk-table-hover uk-table-divider"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"uk-table-shrink uk-text-center"}),r.a.createElement("th",{className:"uk-table-shrink"},"Passenger ID"),r.a.createElement("th",{className:"uk-table-shrink"},"ID Type"),r.a.createElement("th",{className:"uk-table-shrink"},"First Name"),r.a.createElement("th",{className:"uk-table-shrink"},"Last Name"),r.a.createElement("th",{className:"uk-table-shrink"},"Middle"),r.a.createElement("th",{className:"uk-width-small"},"Send confirmation"))),r.a.createElement("tbody",null,c.map(function(e,t){var a="Normal"===e.bookingStatus;return r.a.createElement("tr",{key:t,style:{textDecoration:a?"":"line-through"},"uk-tooltip":a?"":"Reservation for this passenger has been cancelled"},r.a.createElement("td",{className:"uk-text-center"},r.a.createElement("input",{id:t,className:"uk-checkbox",type:"checkbox",disabled:!a,onChange:u})),r.a.createElement("td",null,e.passengerId),r.a.createElement("td",null,e.IDType),r.a.createElement("td",{className:"uk-text-capitalize"},e.firstName),r.a.createElement("td",{className:"uk-text-capitalize"},e.lastName),r.a.createElement("td",{className:"uk-text-capitalize"},e.middleInitial),r.a.createElement("td",null,e.confirmationEmail||"N/A"))})))),r.a.createElement("div",{className:"uk-margin-small-top uk-margin-left"},r.a.createElement("small",null,"Please select any passenger or all to cancel reservation"),r.a.createElement("br",null),r.a.createElement("button",{className:"uk-button uk-button-primary",disabled:!c.filter(function(e){return e.isChecked}).length>0,onClick:function(){var a=c.filter(function(e){return e.isChecked});t({type:"CANCEL_BOOKING",path:e.location.pathname,bookingNumber:e.bookingNumber,cancellations:a,originalList:c})}},"Cancel Reservation"))))}function V(){var e=Object(l.d)(function(e){return{firstName:e.user.info.firstName,lastName:e.user.info.lastName,middleInitial:e.user.info.middleInitial,email:e.user.info.email,joinedDate:e.user.info.joinedDate}}),t=e.firstName,a=e.lastName,n=e.middleInitial,i=e.email,s=e.joinedDate;return r.a.createElement("li",{className:"uk-width-1-1"},r.a.createElement("a",{className:"uk-accordion-title uk-text-small uk-text-bold",href:"#information"},r.a.createElement("h4",null,"User Basic Information")),r.a.createElement("div",{className:"uk-accordion-content","uk-grid":""},r.a.createElement("div",{className:"uk-width-1-1","uk-grid":""},r.a.createElement("div",{className:"uk-margin-small-left uk-padding-remove uk-width-1-4@s"},r.a.createElement("small",null,"First Name"),r.a.createElement("div",null,t)),r.a.createElement("div",{className:"uk-margin-small-left uk-padding-remove uk-width-1-4@s"},r.a.createElement("small",null,"Last Name"),r.a.createElement("div",null,a)),r.a.createElement("div",{className:"uk-margin-small-left uk-padding-remove uk-width-1-4@s"},r.a.createElement("small",null,"Middle Initial"),r.a.createElement("div",null,n))),r.a.createElement("div",{className:"uk-width-1-1","uk-grid":""},r.a.createElement("div",{className:"uk-margin-small-left uk-padding-remove uk-width-1-4@s"},r.a.createElement("small",null,"Email"),r.a.createElement("div",null,i)),r.a.createElement("div",{className:"uk-margin-small-left uk-padding-remove uk-width-1-4@s"},r.a.createElement("small",null,"Joined date"),r.a.createElement("div",null,Object(F.default)(new Date(s),"iiii MMM dd, yyyy HH:mm:ss"))))))}function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function Y(){var e=Object(l.c)(),t=Object(l.d)(function(e){return{ID:e.user.info.ID}}).ID,a=Object(n.useState)({currentPassword:"",newPassword:"",confirmNewPassword:""}),i=Object(G.a)(a,2),s=i[0],c=i[1],u=Object(n.useState)({currentPassword:!0,newPassword:!0,confirmNewPassword:!0}),m=Object(G.a)(u,2),d=m[0],p=m[1],g=function(e){c(K({},s,Object(o.a)({},e.target.name,e.target.value))),p(K({},d,Object(o.a)({},e.target.name,!0)))};return r.a.createElement("li",{className:"uk-width-1-1"},r.a.createElement("a",{className:"uk-accordion-title uk-text-small uk-text-bold",href:"#update-password"},r.a.createElement("h4",null,"User Password")),r.a.createElement("div",{className:"uk-accordion-content","uk-grid":""},r.a.createElement("form",{onSubmit:function(a){a.preventDefault();var n=s.currentPassword,r=s.newPassword,i=s.confirmNewPassword,l=n.length>5,o=r.length>5&&N(r),u=i.length>5&&i===r;if(!l||!o||!u)return p({currentPassword:l,newPassword:o,confirmNewPassword:u});e({type:"UPDATE_PASSWORD",payload:{ID:t,currentPassword:n,newPassword:r}}),c({currentPassword:"",newPassword:"",confirmNewPassword:""}),p({currentPassword:!0,newPassword:!0,confirmNewPassword:!0})}},r.a.createElement("div",{className:"uk-margin-small-top uk-width-1-1 uk-padding-remove uk-margin-remove-top"},r.a.createElement("div",{className:"uk-margin-auto-left uk-margin-remove-left@s uk-padding-small uk-width-1-4@s","uk-grid":""},r.a.createElement("div",{className:"uk-width-1-1"},r.a.createElement("label",{className:"uk-form-label uk-text-bold",htmlFor:"form-stacked-text"},"Current Password"),r.a.createElement("input",{name:"currentPassword",className:"uk-input ".concat(d.currentPassword?"":"uk-form-danger"),type:"password",placeholder:"Current Password",value:s.currentPassword,onChange:g}),r.a.createElement("small",{style:{color:"red",display:d.currentPassword?"none":""}},"Password is not valid")),r.a.createElement(I,{passwordId:"newPassword",passwordValue:s.newPassword,isValidPassword:d.newPassword,confirmPasswordId:"confirmNewPassword",isValidConfirmPassword:d.confirmNewPassword,confirmPasswordValue:s.confirmNewPassword,onChange:g,onFocus:function(e){c(K({},s,{newPassword:"",confirmNewPassword:""})),p(K({},d,{newPassword:!0,confirmNewPassword:!0}))}}))),r.a.createElement("div",{className:"uk-margin-small-top uk-width-1-1"},r.a.createElement("button",{className:"uk-button uk-button-primary",type:"submit"},"Update Password")))))}var z={optionTextToId:function(e,t){return e.find(function(e){return e.text===t}).id},optionIdToText:function(e,t){return e.find(function(e){return e.id===t}).text}},X=[{id:"any",text:"All day"},{id:"before12",text:"Before noon"},{id:"12to6",text:"Noon - 6pm"},{id:"after6",text:"After 6pm"}],W=[{id:"any",text:"Any"},{id:"eco",text:"Economy"},{id:"bus",text:"Business"}],J=[{id:"depTime",text:"Depart Time"},{id:"arrTime",text:"Arrive Time"},{id:"price",text:"Price"}];function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function $(){var e=Object(l.c)(),t=Object(l.d)(function(e){return{departTime:e.user.preference.departTime,arriveTime:e.user.preference.arriveTime,flightClass:e.user.preference.flightClass,maxPrice:e.user.preference.maxPrice,sortBy:e.user.preference.sortBy,DEFAULT_MAX_PRICE:e.user.DEFAULT_MAX_PRICE}}),a=t.departTime,i=t.arriveTime,s=t.flightClass,c=t.maxPrice,u=t.sortBy,m=t.DEFAULT_MAX_PRICE,d=Object(n.useState)({fromOption:a,toOption:i}),p=Object(G.a)(d,2),g=p[0],f=p[1],h=Object(n.useState)(s),k=Object(G.a)(h,2),E=k[0],b=k[1],v=Object(n.useState)(+c),O=Object(G.a)(v,2),w=O[0],y=O[1],N=Object(n.useState)(u),T=Object(G.a)(N,2),P=T[0],j=T[1],I=function(e){return f(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},g,Object(o.a)({},e.target.name,e.target.value)))};return r.a.createElement("li",{className:"uk-width-1-1"},r.a.createElement("a",{className:"uk-accordion-title uk-text-small uk-text-bold",href:"#preference"},r.a.createElement("h4",null,"User Preference")),r.a.createElement("div",{className:"uk-accordion-content","uk-grid":""},r.a.createElement("div",{className:"uk-margin-small-top uk-width-1-1"},r.a.createElement("small",null,"Depart time"),r.a.createElement("br",null),De("uk-select uk-form-small uk-width-1-6@s",I,g.fromOption,X,{name:"fromOption"})),r.a.createElement("div",{className:"uk-margin-small-top uk-width-1-1"},r.a.createElement("small",null,"Arrive time"),r.a.createElement("br",null),De("uk-select uk-form-small uk-width-1-6@s",I,g.toOption,X,{name:"toOption"})),r.a.createElement("div",{className:"uk-margin-small-top uk-width-1-1"},r.a.createElement("small",null,"Flight class"),r.a.createElement("br",null),De("uk-select uk-form-small uk-width-1-6@s",function(e){return b(e.target.value)},E,W)),r.a.createElement("div",{className:"uk-margin-small-top uk-width-1-1"},r.a.createElement("small",null,"Max price: ",w===m?"Any":w," "),r.a.createElement("br",null),r.a.createElement("input",{className:"uk-range uk-width-1-6@s",type:"range",min:"50",max:m,step:"50",value:w,onChange:function(e){return y(+e.target.value)}})),r.a.createElement("div",{className:"uk-margin-small-top uk-width-1-1"},r.a.createElement("small",null,"Sort by"),r.a.createElement("br",null),De("uk-select uk-form-small uk-width-1-6@s",function(e){return j(e.target.value)},P,J)),r.a.createElement("div",{className:"uk-margin-small-top uk-width-1-1"},r.a.createElement("button",{className:"uk-button uk-button-primary",onClick:function(t){e({type:"UPDATE_PREFERENCE",payload:{departTimeId:z.optionTextToId(X,g.fromOption),arriveTimeId:z.optionTextToId(X,g.toOption),flightClassId:z.optionTextToId(W,E),maxPrice:w,sortById:z.optionTextToId(J,P)}})}},"Save"))))}var q=a(67),Q=a.n(q),ee=(a(109),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).getSuggestionParentStyle=function(){return""===a.state.input||a.state.closeSuggestion?{display:"none"}:{position:"absolute",border:"1px solid #d4d4d4",zIndex:9999,top:"100 %",left:0,right:0,maxHeight:200,overflowY:"auto",overflowX:"hidden"}},a.getSuggestionItemStyle=function(){return{background:"white",padding:8,cursor:"pointer",borderBottom:"1px solid #d4d4d4",zIndex:99999}},a.selectSuggestion=function(e){var t=e.target.id.split("@"),n=Object(G.a)(t,2),r=n[0],i=n[1];a.props.onChange(e={target:{name:r,value:i}}),a.setState({input:i,closeSuggestion:!0})},a.createSuggestions=function(e){return""===a.state.input||0===e.length?r.a.createElement(r.a.Fragment,null):!1===a.state.closeSuggestion?e.map(function(e,t){return r.a.createElement("div",{id:"".concat(a.props.name,"@").concat(e),key:t,style:a.getSuggestionItemStyle(),onClick:a.selectSuggestion},e)}):void 0},a.handleInputKeyDown=function(e,t){var n=a.suggestionListRef;a.suggestionListRef&&(n=a.suggestionListRef.getElementsByTagName("div")),40===e.keyCode?a.setState(function(e){return{currentFocus:e.currentFocus+1}},function(){a.addActive(n)}):38===e.keyCode?a.setState(function(e){return{currentFocus:e.currentFocus-1}},function(){a.addActive(n)}):13===e.keyCode&&(e.preventDefault(),a.state.currentFocus>-1&&n&&n[a.state.currentFocus].click())},a.addActive=function(e){var t=a.state.currentFocus;if(!e)return!1;a.removeActive(e),t>=e.length&&(t=0),t<0&&(t=e.length-1),e[t].classList.add("suggestion-item-active");var n=e[t].offsetTop;a.suggestionListRef.scrollTop=n},a.removeActive=function(e){for(var t=0;t<e.length;t++)e[t].classList.remove("suggestion-item-active")},a.suggestionListRef=null,a.setSuggestionListRef=function(e){return a.suggestionListRef=e},a.state={currentFocus:void 0,input:e.value,closeSuggestion:!1},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data,a=t&&t.length>0?t.filter(function(t){return t.toUpperCase().includes(e.state.input.toUpperCase())}):[];return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("input",{className:this.props.className,type:"text",name:this.props.name,value:this.state.input,onChange:function(t){e.props.onChange(t),e.setState({input:t.target.value,currentFocus:-1})},onFocus:function(t){e.props.onFocus(t),e.setState({input:"",closeSuggestion:!1})},onKeyDown:function(t){return e.handleInputKeyDown(t,a)},autoComplete:"off"}),r.a.createElement("div",{ref:this.setSuggestionListRef,className:"suggestion-list",style:this.getSuggestionParentStyle(a.length)},this.createSuggestions(a)))}}]),t}(n.Component));function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function ne(e){var t=Object(l.c)(),a=Object(l.d)(function(e){return{airportList:e.airport.list}}).airportList,i=Object(l.d)(function(e){return{departTime:e.user.preference.departTime,arriveTime:e.user.preference.arriveTime,flightClass:e.user.preference.flightClass,maxPrice:e.user.preference.maxPrice,sortBy:e.user.preference.sortBy,DEFAULT_MAX_PRICE:e.user.DEFAULT_MAX_PRICE}}),s=i.departTime,c=i.arriveTime,u=i.flightClass,m=i.maxPrice,d=i.sortBy,p=i.DEFAULT_MAX_PRICE,g=Object(n.useState)({roundtrip:!0}),f=Object(G.a)(g,2),h=f[0],k=f[1],E=Object(n.useState)({flightFrom:"",flightTo:""}),b=Object(G.a)(E,2),v=b[0],O=b[1],w=Object(n.useState)({fromDate:new Date,toDate:new Date}),y=Object(G.a)(w,2),N=y[0],T=y[1],P=Object(n.useState)({fromOption:s,toOption:c}),j=Object(G.a)(P,2),I=j[0],S=j[1],D=Object(n.useState)(1),x=Object(G.a)(D,2),F=x[0],_=x[1],R=Object(n.useState)(u),C=Object(G.a)(R,2),L=C[0],B=C[1],U=Object(n.useState)(+m),M=Object(G.a)(U,2),V=M[0],H=M[1],K=Object(n.useState)(d),Y=Object(G.a)(K,2),Z=Y[0],$=Y[1],q=Object(n.useState)({flightFrom:!0,flightTo:!0}),te=Object(G.a)(q,2),ne=te[0],re=te[1];Object(n.useEffect)(function(){Object(A.default)(N.fromDate,N.toDate)&&T(ae({},N,{toDate:N.fromDate}))},[N]);var ie=function(e){return k({roundtrip:""!==e.target.id})},se=function(e){return S(ae({},I,Object(o.a)({},e.target.name,e.target.value)))},le=function(e){re(ae({},ne,Object(o.a)({},e.target.name,!0))),O(ae({},v,Object(o.a)({},e.target.name,e.target.value)))},ce=function(e){re(ae({},ne,Object(o.a)({},e.target.name,!0))),O(ae({},v,Object(o.a)({},e.target.name,"")))};return r.a.createElement("form",{className:"uk-margin-auto uk-margin-small-top uk-card uk-card-default uk-card-small uk-card-body uk-grid-small uk-width-1-2@l","uk-grid":"",onSubmit:function(e){e.preventDefault();var n=v.flightFrom,r=v.flightTo,i=n.length>0&&a.includes(n),s=r.length>0&&a.includes(r);if(!i||!s)return re({flightFrom:i,flightTo:s});var l=function(e){return e.split(",")[1].trim().substring(0,3)};t({type:"BOOKING_APPLY_SEARCH",inputs:{isRoundTrip:h.roundtrip,searchInputs:{flightFrom:l(n),flightTo:l(r)},maxPrice:V,dateInputs:N,departTimeId:z.optionTextToId(X,I.fromOption),arriveTimeId:z.optionTextToId(X,I.toOption),numOfPassengers:F,flightClassId:z.optionTextToId(W,L),sortById:z.optionTextToId(J,Z)}})}},r.a.createElement("div",{className:"uk-card-header"},r.a.createElement("h4",null,"Book a Flight")),r.a.createElement("div",{className:"uk-width-1-1@s","uk-grid":""},r.a.createElement("div",{className:"uk-width-1-2@s",style:{paddingTop:26}},r.a.createElement("label",null,r.a.createElement("input",{className:"uk-radio",type:"radio",id:"roundtrip",name:"trip-type",defaultChecked:"true",onChange:ie})," Roundtrip"),"\xa0\xa0",r.a.createElement("label",null,r.a.createElement("input",{className:"uk-radio",type:"radio",name:"trip-type",onChange:ie})," One-way")),r.a.createElement("div",{className:"uk-width-1-3@s"},r.a.createElement("div",{className:"uk-width-1-2 uk-width-1-2@s"},r.a.createElement("small",null,"Passengers"),r.a.createElement("input",{className:"uk-input uk-form-small",type:"number",min:"1",value:F,onChange:function(e){return _(e.target.value)}})))),r.a.createElement("div",{className:"uk-width-1-1@s","uk-grid":""},r.a.createElement("div",{className:"uk-width-1-2@s"},r.a.createElement("small",null,"Flight From"),r.a.createElement(ee,{className:"uk-input uk-form-small ".concat(ne.flightFrom?"":"uk-form-danger"),name:"flightFrom",data:a,value:v.flightFrom,onChange:le,onFocus:ce}),r.a.createElement("small",{style:{color:"red",display:ne.flightFrom?"none":""}},"Invalid. Please select a suggestion")),r.a.createElement("div",{className:"uk-width-1-3 uk-width-1-5@s"},r.a.createElement("small",null,"Depart Date"),r.a.createElement(Q.a,{className:"uk-input uk-form-small",dateFormat:"MM/dd",minDate:new Date,selected:N.fromDate,onChange:function(e){return T(ae({},N,{fromDate:e}))}})),r.a.createElement("div",{className:"uk-width-1-4@s"},r.a.createElement("small",null,"Depart time"),De("uk-select uk-form-small",se,I.fromOption,X,{name:"fromOption"}))),r.a.createElement("div",{className:"uk-width-1-1@s","uk-grid":""},r.a.createElement("div",{className:"uk-width-1-2@s"},r.a.createElement("small",null,"Flight To"),r.a.createElement(ee,{className:"uk-input uk-form-small ".concat(ne.flightTo?"":"uk-form-danger"),name:"flightTo",data:a,value:v.flightTo,onChange:le,onFocus:ce}),r.a.createElement("small",{style:{color:"red",display:ne.flightTo?"none":""}},"Invalid. Please select a suggestion")),r.a.createElement("div",{className:"uk-width-1-3 uk-width-1-5@s"},r.a.createElement("small",null,"Return Date"),r.a.createElement(Q.a,{className:"uk-input uk-form-small",dateFormat:"MM/dd",minDate:N.fromDate,selected:N.toDate,onChange:function(e){return T(ae({},N,{toDate:e}))},disabled:!h.roundtrip})),r.a.createElement("div",{className:"uk-width-1-4@s"},r.a.createElement("small",null,"Return time"),De("uk-select uk-form-small",se,I.toOption,X,{name:"toOption",disabled:!h.roundtrip}))),r.a.createElement("ul",{className:"uk-width-1-1@s","uk-grid":"","uk-accordion":""},r.a.createElement("li",{className:"uk-width-1-1@s"},r.a.createElement("a",{className:"uk-accordion-title uk-text-small uk-text-bold",href:"#adv-option"},"Advanced Options"),r.a.createElement("div",{className:"uk-accordion-content","uk-grid":""},r.a.createElement("div",{className:"uk-margin-small-top uk-width-1-3@s"},r.a.createElement("small",null,"Flight class"),De("uk-select uk-form-small",function(e){return B(e.target.value)},L,W)),r.a.createElement("div",{className:"uk-margin-small-top uk-width-1-3@s"},r.a.createElement("small",null,"Max price: ",V===p?"Any":V," "),r.a.createElement("input",{className:"uk-range",type:"range",min:"50",max:p,step:"50",value:V,onChange:function(e){return H(+e.target.value)}})),r.a.createElement("div",{className:"uk-margin-small-top uk-width-1-3@s"},r.a.createElement("small",null,"Sort by"),De("uk-select uk-form-small",function(e){return $(e.target.value)},Z,J))))),r.a.createElement("div",{className:"uk-width-1-1@s uk-card-footer uk-flex uk-flex-right"},r.a.createElement("button",{className:"uk-button uk-button-primary",type:"submit"},"Apply")))}var re=a(178);function ie(e){var t=new Date(e);return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"uk-text-large uk-text-bold uk-margin-small-right"},Object(F.default)(t,"hh:mm")),r.a.createElement("small",null,Object(F.default)(t,"a")))}function se(e){var t=Object(l.c)(),a=e.TYPE,n=e.DEPART_FROM,i=e.ARRIVE_TO,s=e.SELECTED_DATE,c=e.FLIGHT_TIME;return r.a.createElement("div",{className:"uk-margin-auto@s uk-width-1-1","uk-grid":""},r.a.createElement("div",{className:"uk-width-1-1 uk-text-large uk-text-bold uk-padding-remove"},a," Flight"),r.a.createElement("div",{className:"uk-width-1-3@s uk-padding-remove"},r.a.createElement("span",{className:"uk-width-1-1 uk-text-bold uk-padding-remove"},n," ",r.a.createElement("span",{"uk-icon":"icon: arrow-right"})," ",i),r.a.createElement("br",null),r.a.createElement("button",{className:"uk-button uk-button-link uk-text-capitalize",onClick:function(){return t({type:"BOOKING_GO_SEARCH"})}},"Modify")),r.a.createElement("div",{className:"uk-width-1-3@s uk-padding-remove"},r.a.createElement("span",{className:"uk-width-1-1 uk-text-bold uk-padding-remove"},Object(F.default)(s,"iiii MMM dd, yyyy")," ",r.a.createElement("br",null),c&&2===c.length&&r.a.createElement(r.a.Fragment,null,ie(c[0]),r.a.createElement("span",{"uk-icon":"icon: arrow-right; ratio: 1.5",style:{verticalAlign:"bottom"}}),ie(c[1])))))}function le(e){var t=e.selected,a=e.TYPE,i=e.SELECTED_DATE,s=e.SELECTED_SORT_BY_ID,c=Object(l.d)(function(e){return{departFrom:e.booking.searchInputs["flight"+("Depart"===a?"From":"To")],arriveTo:e.booking.searchInputs["flight"+("Depart"===a?"To":"From")]}}),o=c.departFrom,u=c.arriveTo,m=Object(n.useState)(z.optionIdToText(J,s)),d=Object(G.a)(m,2),p=d[0],g=d[1];return r.a.createElement("div",{id:"flight-search-result",className:"uk-grid-small uk-width-1-1 uk-margin-small-top uk-margin-small-bottom",style:{backgroundColor:"white"},"uk-grid":""},r.a.createElement(se,{TYPE:a,DEPART_FROM:o,ARRIVE_TO:u,SELECTED_DATE:i}),r.a.createElement("hr",{className:"uk-width-1-1 uk-margin-remove uk-padding-remove"}),!t&&r.a.createElement("div",{className:"uk-margin-auto@s uk-margin-remove-top uk-width-1-1 uk-padding-small uk-padding-remove-top","uk-grid":""},r.a.createElement("div",{className:"uk-width-1-3 uk-width-1-5@s"},r.a.createElement("small",null,"Sort By"),De("uk-select uk-form-small",function(t){g(t.target.value),e.handleSelectSortBy(t.target.value)},p,J))))}var ce=a(173);function oe(e){var t=e.id,a=e.selected,n=e.type,i=e.handleSelectFlight,s=e.handleChangeFlight,l=e.data,c=l.depTime,o=l.arrTime,u={price:e.data.ecoPrice,seats:e.data.ecoSeats},m={price:e.data.busPrice,seats:e.data.busSeats},d=u&&u.seats<1,p=m&&m.seats<1;return r.a.createElement("div",{className:"uk-margin-auto@s uk-margin-remove-top uk-margin-remove-bottom uk-width-1-1 uk-padding-small uk-card uk-card-default uk-card-hover","uk-grid":""},r.a.createElement("div",{className:"uk-width-1-1 uk-width-1-3@m uk-padding uk-padding-remove-top uk-padding-remove-bottom"},r.a.createElement("div",{className:"uk-width-1-1 uk-margin-auto"},ie(c),r.a.createElement("span",{"uk-icon":"icon: arrow-right; ratio: 1.5",style:{verticalAlign:"bottom"}}),ie(o)),r.a.createElement("div",{className:"uk-width-1-1"},r.a.createElement("small",null,"Duration: ",function(e,t){var a=new Date(t),n=new Date(e),r=Object(re.a)(a,n),i=a.getMinutes()-n.getMinutes();return i=i<0?-i:i,"".concat(r,"h ").concat(i,"m")}(c,o)))),a&&!0===a?r.a.createElement("div",{className:"uk-width-1-1 uk-width-1-3@m uk-padding uk-padding-remove-top uk-padding-remove-bottom"},r.a.createElement("button",{className:"uk-button uk-margin-small-bottom uk-padding-small uk-button-".concat(u?"default":"primary"),disabled:!0},u.price?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"uk-text-small uk-text-uppercase"},"Economy"),r.a.createElement("div",{style:{margin:-5,marginBottom:-15}},r.a.createElement("small",{style:{verticalAlign:"super"}},"$"),r.a.createElement("span",{className:"uk-text-large uk-text-bold"},u.price))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"uk-text-small uk-text-uppercase"},"Business"),r.a.createElement("div",{style:{margin:-5,marginBottom:-15}},r.a.createElement("small",{style:{verticalAlign:"super"}},"$"),r.a.createElement("span",{className:"uk-text-large uk-text-bold"},m.price)))),r.a.createElement("button",{className:"uk-button uk-button-default uk-margin-small-bottom uk-margin-small-left",onClick:s},"Change")):r.a.createElement("div",{className:"uk-width-1-1 uk-width-1-3@m uk-padding uk-padding-remove-top uk-padding-remove-bottom"},r.a.createElement("button",{className:"uk-button uk-button-default uk-margin-small-right uk-margin-small-bottom",disabled:d,style:{verticalAlign:"top"},onClick:function(){return i("".concat(n,"-economy-").concat(t))}},r.a.createElement("div",{className:"uk-text-small uk-text-uppercase"},"Economy"),u.seats>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{margin:-5,marginBottom:-15}},r.a.createElement("small",{style:{verticalAlign:"super"}},"$"),r.a.createElement("span",{className:"uk-text-large uk-text-bold"},u.price)),r.a.createElement("small",{className:"uk-text-small uk-text-lowercase uk-text-italic"},u.seats," left")):r.a.createElement("div",{className:"uk-text-small uk-text-bold uk-text-capitalize"},"Sold out")),r.a.createElement("button",{className:"uk-button uk-button-primary uk-margin-small-bottom",disabled:p,style:{verticalAlign:"top"},onClick:function(){return i("".concat(n,"-business-").concat(t))}},r.a.createElement("div",{className:"uk-text-small uk-text-uppercase"},"Business"),m.seats>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{margin:-5,marginBottom:-15}},r.a.createElement("small",{style:{verticalAlign:"super"}},"$"),r.a.createElement("span",{className:"uk-text-large uk-text-bold"},m.price)),r.a.createElement("small",{className:"uk-text-small uk-text-lowercase uk-text-italic"},m.seats," left")):r.a.createElement("div",{className:"uk-text-small uk-text-bold uk-text-capitalize"},"Sold out"))))}function ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var me=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).handleSelectFlight=function(e){var t=e.split("-"),n=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ue(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ue(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a.props.flights[t[2]]);"economy"===t[1]?(delete n.busPrice,delete n.busSeats):(delete n.ecoPrice,delete n.ecoSeats),a.setState({selected:n},function(){a.props.isNextReservation(a.getType(),a.state.selected)})},a.handleChangeFlight=function(e){a.setState({selected:null},function(){a.props.isNextReservation(a.getType(),a.state.selected)})},a.handleSelectSortBy=function(e){var t=a.state.flights,n=function(e){return Object(ce.default)(e,"HH:mm",new Date(a.state.selectedDate))};switch(console.log(t),e){case"Depart Time":t=t.sort(function(e,t){return Object(R.a)(n(e.depTime),n(t.depTime))});break;case"Arrive Time":t=t.sort(function(e,t){return Object(R.a)(n(e.arrTime),n(t.arrTime))});break;case"Price":t=t.sort(function(e,t){return e.ecoPrice-t.ecoPrice&&e.busPrice-t.busPrice})}a.setState({flights:t})},a.getType=function(){return e.type.toLowerCase()+"Flight"},a.state={selected:e.selectedTicket[a.getType()],selectedDate:e.selectedDate["".concat("Depart"===e.type?"fromDate":"toDate")],selectedFlightTimeId:e.selectedFlightTime["".concat("Depart"===e.type?"departTimeId":"arriveTimeId")],flights:e.flights},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.selectedSortById,n=this.state,i=n.selectedDate,s=n.selectedFlightTimeId,l=n.flights,c=null!==this.state.selected;return r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{selected:c,TYPE:t,SELECTED_DATE:new Date(i),SELECTED_FLIGHT_TIME_ID:s,SELECTED_SORT_BY_ID:a,handleSelectSortBy:this.handleSelectSortBy}),!0===c?r.a.createElement(oe,{selected:c,data:this.state.selected,handleChangeFlight:this.handleChangeFlight}):function(e,t,a){if(0===e.length)return r.a.createElement("div",{className:"uk-margin-auto@s uk-margin-remove-top uk-margin-remove-bottom uk-width-1-1 uk-padding-small uk-card uk-card-default"},"Found no record");return e.map(function(e,n){return r.a.createElement(t,Se({key:n,id:n,data:e},a),null)})}(l,oe,{type:t,handleSelectFlight:this.handleSelectFlight}))}}]),t}(n.Component),de=Object(l.b)(function(e){return{selectedTicket:e.booking.ticket,selectedFlight:e.booking.searchInputs,selectedDate:e.booking.dateInputs,selectedFlightTime:{departTimeId:e.booking.departTimeId,arriveTimeId:e.booking.arriveTimeId},selectedSortById:e.booking.sortById}},function(e){return{isNextReservation:function(t,a){return e({type:"BOOKING_IS_NEXT_RESERVATION",tripType:t,selected:a})}}})(me),pe=[{id:"DL",text:"Driver License"},{id:"Pp",text:"Passport"}],ge=function(){return{firstName:"",lastName:"",middleInitial:"",IDType:pe[1].text,IDNumber:"",reservationEmail:"",sendConfirmation:"no",validfirstName:!0,validlastName:!0,validmiddleInitial:!0,validIDNumber:!0,validreservationEmail:!0}};function fe(e){var t=e.id,a=e.form,i=e.onChange,s=e.onRemove,l=Object(n.useState)(!1),c=Object(G.a)(l,2),o=c[0],u=c[1];return r.a.createElement("div",{className:"uk-margin-small-bottom uk-margin-remove-top\r uk-card uk-card-default",key:t,"uk-grid":""},r.a.createElement("div",{className:"uk-width-1-1 uk-flex uk-flex-wrap uk-flex-wrap-around uk-padding-remove uk-margin-remove-bottom"},r.a.createElement("span",{className:"uk-width-1-2"},r.a.createElement("h4",null,"Passenger ",t+1)),r.a.createElement("span",{className:"uk-width-1-2 uk-flex uk-flex-right"},r.a.createElement("button",{className:"uk-button","uk-icon":"icon: close; ratio: 1","uk-tooltip":"Remove passenger",onClick:function(e){return s(e)}}))),r.a.createElement("div",{className:"uk-width-1-1 uk-padding-remove uk-margin-remove","uk-grid":""},r.a.createElement("div",{className:"uk-width-1-3@s"},r.a.createElement("small",null,"First Name"),r.a.createElement("input",{id:t,name:"firstName",value:a.firstName,className:"uk-input uk-form-small ".concat(a.validfirstName?"":"uk-form-danger"),onChange:i}),r.a.createElement("small",{style:{color:"red",display:a.validfirstName?"none":""}},"First name is too short")),r.a.createElement("div",{className:"uk-width-1-3@s"},r.a.createElement("small",null,"Last Name"),r.a.createElement("input",{id:t,name:"lastName",value:a.lastName,className:"uk-input uk-form-small ".concat(a.validlastName?"":"uk-form-danger"),onChange:i}),r.a.createElement("small",{style:{color:"red",display:a.validlastName?"none":""}},"Last name is too short")),r.a.createElement("div",{className:"uk-width-1-3 uk-width-1-6@s uk-margin-remove"},r.a.createElement("small",null,"Middle Initial"),r.a.createElement("input",{maxLength:1,className:"uk-input uk-form-small ".concat(a.validmiddleInitial?"":"uk-form-danger"),id:t,name:"middleInitial",value:a.middleInitial,onChange:i}),r.a.createElement("small",{style:{color:"red",display:a.validmiddleInitial?"none":""}},"Alphabetics only"))),r.a.createElement("div",{className:"uk-width-1-1 uk-padding-remove uk-margin-remove","uk-grid":""},r.a.createElement("div",{className:"uk-width-1-6@s"},r.a.createElement("small",null,"ID Type"),De("uk-select uk-form-small",i,a.IDType,pe,{id:t,name:"IDType"})),r.a.createElement("div",{className:"uk-width-1-4@s"},r.a.createElement("small",null,"ID Number"),r.a.createElement("input",{id:t,name:"IDNumber",value:a.IDNumber,className:"uk-input uk-form-small ".concat(a.validIDNumber?"":"uk-form-danger"),onChange:i,autoComplete:"off"}),r.a.createElement("small",{style:{color:"red",display:a.validIDNumber?"none":""}},"ID number is not valid"))),r.a.createElement("div",{className:"uk-width-1-1 uk-padding-remove uk-margin-remove","uk-grid":""},r.a.createElement("div",{className:"uk-margin-auto-top uk-width-1-3@s"},r.a.createElement("label",null,r.a.createElement("input",{className:"uk-checkbox uk-margin-small-right",type:"checkbox",id:t,name:"sendConfirmation",onChange:function(e){e.target.value=e.target.checked?"yes":"no",u(e.target.checked),i(e)}}),r.a.createElement("small",null,"Send confirmation to email")))),o&&r.a.createElement("div",{className:"uk-width-1-1 uk-padding-remove uk-margin-remove","uk-grid":""},r.a.createElement("div",{className:"uk-width-1-3@s"},r.a.createElement("small",null,"Email (optional)"),r.a.createElement("input",{id:t,name:"reservationEmail",value:a.reservationEmail,className:"uk-input uk-form-small ".concat(a.validreservationEmail?"":"uk-form-danger"),onChange:i}),r.a.createElement("small",{style:{color:"red",display:a.validreservationEmail?"none":""}},"Email is not valid"))))}function he(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?he(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ee=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).getPassengerFormView=function(){return a.state.passengers.map(function(e,t){return r.a.createElement(fe,{key:t,id:t,form:e,onChange:a.handleChangePassengerForm,onRemove:a.handleRemovePassengerForm})})},a.handleAddNewPassengerForm=function(e){var t=a.state,n=t.seatsLeft,r=t.passengers;if(r.length===n)return alert("Reached maximum of ".concat(n," passengers"));var i=r;i.push(ge()),a.setState({passengers:i})},a.handleRemovePassengerForm=function(e){var t=a.state.passengers;if(1===t.length)return alert("Cannot continue reservation with no passenger");var n=t;n.splice(e,1),a.setState({passengers:n})},a.handleChangePassengerForm=function(e){var t=a.state.passengers;t[e.target.id][e.target.name]=e.target.value,t[e.target.id]["valid".concat(e.target.name)]=!0,"sendConfirmation"===e.target.name&&"no"===e.target.value&&(t[e.target.id].reservationEmail="",t[e.target.id].validreservationEmail=!0),a.setState({passengers:t})},a.handleSubmit=function(e){e.preventDefault();var t=!0,n=a.state.passengers,r=[];for(var i in n){var s=n[i],l=s.firstName,c=s.lastName,o=s.middleInitial,u=s.reservationEmail,m=s.IDNumber,d=s.sendConfirmation,p=l.length>1,g=c.length>1,f=0===o.length||o.length>0&&isNaN(o),h="no"===d||u.length>0&&y(u),k=m.length>5;p&&g&&f&&h&&k||(n[i]=ke({},n[i],{validfirstName:p,validlastName:g,validmiddleInitial:f,validreservationEmail:h,validIDNumber:k}),t=!1),k&&!r.includes(m)&&r.push(m)}if(!t)return a.setState({passengers:n});if(r.length!==a.state.passengers.length)return v.a.notification("Found duplicate ID",{status:"danger",timeout:2e3});var E=function(e){return e.ecoPrice?"economy":"business"},b=a.props.children[0].props.selectedDepartFlight;b.flightClass=E(b);var O=a.props.children[1]?a.props.children[1].props.selectedReturnFlight:void 0;O.flightClass=a.props.children[1]?E(O):void 0,a.props.finalizeBooking({departFlight:b,returnFlight:O,passengers:n})},a.state={seatsLeft:e.SEATS_LEFT()<5?e.SEATS_LEFT():5,passengers:[ge()]},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"uk-margin-auto@s uk-width-1-1","uk-grid":""},r.a.createElement("div",{className:"uk-width-1-1","uk-grid":""},r.a.createElement("ul",{className:"uk-width-1-1","uk-accordion":"",style:{background:"white"}},r.a.createElement("li",null,r.a.createElement("a",{className:"uk-accordion-title",href:"#flight-summary"},"Flight Summary"),r.a.createElement("div",{className:"uk-accordion-content"},this.props.children))),r.a.createElement("div",{className:"uk-width-1-1 uk-padding-remove"},r.a.createElement("button",{className:"uk-button uk-button-primary",onClick:this.handleAddNewPassengerForm},r.a.createElement("span",{className:"uk-margin-small-right","uk-icon":"plus"}),"Add Passenger"))),this.getPassengerFormView(),r.a.createElement("form",{className:"uk-width-1-1 uk-flex uk-flex-right uk-margin-large-right",onSubmit:this.handleSubmit},r.a.createElement("button",{className:"uk-button uk-button-primary",type:"submit"},"Finish")))}}]),t}(n.Component),be=Object(l.b)(null,function(e){return{finalizeBooking:function(t){return e({type:"FINALIZE_BOOKING",payload:t})}}})(Ee);function ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ve(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ve(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var we=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(i)))).componentDidMount=function(){a.props.getAirportList(),a.props.searchResultsLoaded||1!==a.props.currentStep||a.props.reloadSearchResults()},a.getView=function(){var e=a.props,t=e.searchResultsLoaded,n=e.currentStep,i=e.isRoundTrip,s=e.validForReservation,l=e.toReservation,c=e.flightDepartFrom,o=e.flightArriveTo,u=e.flightFromDate,m=e.flightToDate,d=e.departFlightTime,p=e.returnFlightTime,g=e.departFlights,f=e.returnFlights,h=e.selectedDepartFlight,k=e.selectedReturnFlight;switch(n){case 0:return r.a.createElement(ne,null);case 1:return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(de,{type:"Depart",flights:g}),i&&r.a.createElement(de,{type:"Return",flights:f}),s&&r.a.createElement("div",{className:"uk-width-1-1"},r.a.createElement("button",{className:"uk-button uk-button-primary uk-padding",onClick:function(){return l()}},"Continue To Reservation"))));case 2:return r.a.createElement(be,{SEATS_LEFT:function(){var e=h.ecoSeats||h.busSeats,t=k?k.ecoSeats||k.busSeats:5;return e<t?e:t}},r.a.createElement(se,{selectedDepartFlight:Oe({},h,{flightDepartFrom:c,flightArriveTo:o}),TYPE:"Depart",DEPART_FROM:c,ARRIVE_TO:o,SELECTED_DATE:new Date(u),FLIGHT_TIME:[d.depTime,d.arrTime]}),i&&r.a.createElement(se,{selectedReturnFlight:Oe({},k,{flightDepartFrom:c,flightArriveTo:o}),TYPE:"Return",DEPART_FROM:o,ARRIVE_TO:c,SELECTED_DATE:new Date(m),FLIGHT_TIME:[p.depTime,p.arrTime]}));default:return r.a.createElement(r.a.Fragment,null)}},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"uk-flex uk-margin-auto uk-width-1-1","uk-grid":""},this.getView())}}]),t}(n.Component);function ye(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ye(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ye(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Te=[{id:"welcome",requiredAuthentication:!0,exact:!0,path:"/",HomePage:function(){return document.title="AST6 | Home",r.a.createElement("div",{className:"uk-background-cover",style:{backgroundImage:"url(media/welcome-bg.png)"},"uk-height-viewport":"expand: true"},r.a.createElement("div",{className:"uk-overlay uk-overlay-default uk-position-top uk-width-1-1 uk-text-center uk-margin-medium-top"},r.a.createElement("div",{className:"uk-width-1-2@s uk-align-center"},r.a.createElement("h1",{style:{color:"dodgerblue",fontWeight:"bold"}},"AST6 Airline Online Services"),r.a.createElement(E,null))),r.a.createElement(j,null),r.a.createElement(x,null))}},{id:"dashboard",requiredAuthentication:!0,exact:!0,path:"/dashboard",component:B,navItemName:"Dashboard"},{id:"bookingdetail",requiredAuthentication:!0,exact:!0,path:"/booking=:detail",component:function(e){var t=e.computedMatch.params.detail.split("_"),a=t[0],i=t[1].split("|"),s=Object(G.a)(i,2),c=s[0],o=s[1],u=t[2].split("|"),m=Object(G.a)(u,2),d=m[0],p=m[1],g=Object(l.c)(),f=Object(l.d)(function(e){return{bookingPassengers:e.user.bookingPassengers}}).bookingPassengers,h=Object(n.useState)(!1),k=Object(G.a)(h,2),E=k[0],b=k[1];return Object(n.useEffect)(function(){E||(g({type:"GET_BOOKING_DETAIL",bookingNumber:a}),b(!0))},[E,a]),r.a.createElement("div",{className:"uk-width-1-1 uk-margin-top",style:{background:"white"},"uk-grid":""},r.a.createElement("h4",null,"Booking Detail Summary"),r.a.createElement(U,{DEPART_FROM:c,ARRIVE_TO:d,DEPART_TIME:o,ARRIVE_TIME:p}),f&&r.a.createElement(M,Object.assign({},e,{bookingNumber:a})))}},{id:"profile",requiredAuthentication:!0,exact:!0,path:"/profile",component:function(){return r.a.createElement("ul",{id:"user-profile",className:"uk-width-1-1 uk-card uk-card-default uk-margin-auto","uk-grid":"","uk-accordion":""},r.a.createElement(V,null),r.a.createElement(Y,null),r.a.createElement($,null))},navItemName:"User Profile"},{id:"booking",requiredAuthentication:!0,exact:!0,path:"/booking",component:Object(l.b)(function(e){return{loaded:e.booking.loaded,searchResultsLoaded:e.booking.searchResultsLoaded,currentStep:e.booking.current,isRoundTrip:e.booking.isRoundTrip,validForReservation:e.booking.validForReservation,flightDepartFrom:e.booking.searchInputs.flightFrom,flightArriveTo:e.booking.searchInputs.flightTo,flightFromDate:e.booking.dateInputs.fromDate,flightToDate:e.booking.dateInputs.toDate,departFlightTime:e.booking.ticket.departFlight,returnFlightTime:e.booking.ticket.returnFlight,departFlights:e.booking.departFlights,returnFlights:e.booking.returnFlights,selectedDepartFlight:e.booking.ticket.departFlight,selectedReturnFlight:e.booking.ticket.returnFlight}},function(e){return{getAirportList:function(){return e({type:"AIRPORT_GET_LIST"})},reloadSearchResults:function(){return e({type:"BOOKING_APPLY_SEARCH"})},toReservation:function(){return e({type:"BOOKING_TO_RESERVATION"})}}})(we),navItemName:"Booking Flight"},{id:"recoverylink",exact:!0,path:"/rl=:link",component:function(e){var t=Object(l.c)(),a=Object(l.d)(function(e){return{confirmed:e.user.confirmedRecoveryLink}}).confirmed,i=e.match.params.link,s=Object(n.useState)(!1),c=Object(G.a)(s,2),u=c[0],m=c[1],d=Object(n.useState)({newPassword:"",confirmNewPassword:""}),p=Object(G.a)(d,2),g=p[0],f=p[1],h=Object(n.useState)({newPassword:!0,confirmNewPassword:!0}),k=Object(G.a)(h,2),E=k[0],b=k[1];return Object(n.useEffect)(function(){a?m(!0):t({type:"CONFIRM_RECOVERY_LINK",link:i})},[a]),r.a.createElement("div",{className:"uk-margin-auto uk-width-1-3@s uk-padding-small",onSubmit:function(e){e.preventDefault();var a=g.newPassword,n=g.confirmNewPassword,r=a.length>5&&N(a),s=n.length>5&&n===a;if(!r||!s)return b({newPassword:r,confirmNewPassword:s});t({type:"UPDATE_PASSWORD",payload:{link:i,newPassword:a}})}},u&&r.a.createElement("form",null,r.a.createElement("h3",null,"Enter new password"),r.a.createElement(I,{passwordId:"newPassword",passwordValue:g.newPassword,isValidPassword:E.newPassword,confirmPasswordId:"confirmNewPassword",isValidConfirmPassword:E.confirmNewPassword,confirmPasswordValue:g.confirmNewPassword,onChange:function(e){f(Ne({},g,Object(o.a)({},e.target.name,e.target.value))),b(Ne({},E,Object(o.a)({},e.target.name,!0)))},onFocus:function(e){f({newPassword:"",confirmNewPassword:""}),b({newPassword:!0,confirmNewPassword:!0})}}),r.a.createElement("div",{className:"uk-margin-small-top uk-width-1-1 uk-flex uk-flex-right"},r.a.createElement("button",{className:"uk-button uk-button-default",type:"submit"},"Submit"))))}},{id:"devtest",exact:!0,path:"/devtest",component:function(){return r.a.createElement("div",null,r.a.createElement("small",null,r.a.createElement("p",null,"Put your component to test here "),r.a.createElement("p",null,"After you are statisfied with the look and feel or functions, please remove it"),r.a.createElement("p",null,"After group review, it can be integrated and adjusted ")),r.a.createElement("hr",{style:{borderTop:"4px solid #151414"}}),r.a.createElement(M,null))}},{id:"notfound",path:"*",component:function(){return r.a.createElement("div",{style:{fontSize:80,fontFamily:"QuickSand",paddingTop:40,paddingLeft:40,color:"blue"}},"404! Page Not Found")}}];function Pe(e){var t,a,n=Object(l.c)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{"uk-sticky":"sel-target: .uk-navbar-container; cls-active: uk-navbar-sticky"},r.a.createElement("nav",{className:"uk-navbar-container","uk-navbar":""},r.a.createElement("div",{className:"uk-navbar-left"},r.a.createElement("ul",{className:"uk-navbar-nav"},(t=Te,a=e.currentViewPath,t.map(function(e,t){return e.navItemName?r.a.createElement("li",{key:t,className:a===e.path?"uk-active":""},[r.a.createElement("a",{key:e.id,href:e.path},[e.navItemName])]):null})),r.a.createElement("li",null,r.a.createElement("a",{href:"#sign-out",onClick:function(e){e.preventDefault(),n({type:"SIGN_OUT"})}},"Sign Out")))))),r.a.createElement("div",{style:{backgroundColor:"darkgrey"},"uk-height-viewport":"offset-top: true"},e.content||e.children))}function je(e){var t=e.authenticated,a=e.defaultAuthenticatedPath,n=e.HomePage,i=e.component,s=Object(u.a)(e,["authenticated","defaultAuthenticatedPath","HomePage","component"]);return r.a.createElement(c.b,Object.assign({},s,{render:function(s){var l=s.history;return t?i?r.a.createElement(Pe,{currentViewPath:l.location.pathname,content:r.a.createElement(i,e)}):r.a.createElement(c.a,{to:a}):n?r.a.createElement(n,null):r.a.createElement(c.a,{to:"/"})}}))}function Ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ie(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ie(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function De(e,t,a,n,i){return r.a.createElement("select",Se({className:e,onChange:t,defaultValue:a},i),[n.map(function(e){return r.a.createElement("option",{key:e.id,value:e.text},[e.text])})])}var xe=a(42),Fe=a(29),_e=a(89),Ae=a(88),Re=(a(154),{LOADING:"LOADING",LOADED:"LOADED",SIGNED_IN:"SIGNED_IN",SET_AUTHENTICATED:"SET_AUTHENTICATED",SET_UNAUTHENTICATED:"SET_UNAUTHENTICATED",SIGN_UP:"SIGN_UP",SIGN_IN:"SIGN_IN",SET_USER:"SET_USER",SIGN_OUT:"SIGN_OUT",SEND_RECOVERY_LINK:"RECOVERY_LINK",CONFIRM_RECOVERY_LINK:"CONFIRM_RECOVERY_LINK",UPDATE_PASSWORD:"UPDATE_PASSWORD",UPDATE_PREFERENCE:"UPDATE_PREFERENCE",USER_GET_FLIGHTS:"USER_GET_FLIGHTS",GET_BOOKING_DETAIL:"GET_BOOKING_DETAIL",UPDATE_BOOKING:"UPDATE_BOOKING",CANCEL_BOOKING:"CANCEL_BOOKING",INIT_LOAD:"BOOKING_INIT_LOAD",APPLY_SEARCH:"BOOKING_APPLY_SEARCH",GO_SEARCH:"BOOKING_GO_SEARCH",IS_NEXT_RESERVATION:"BOOKING_IS_NEXT_RESERVATION",TO_RESERVATION:"BOOKING_TO_RESERVATION",FINALIZE_BOOKING:"FINALIZE_BOOKING",GET_AIRPORTS:"AIRPORT_GET_LIST"});function Ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ce(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ce(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Be={authenticated:null,loading:!1};function Ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ge(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ge(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Me={info:null,preference:null,confirmedRecoveryLink:!1,DEFAULT_MAX_PRICE:2e3,flights:[],bookingPassengers:void 0},Ve=function(e){return{departTime:z.optionIdToText(X,e.departTimeId),arriveTime:z.optionIdToText(X,e.arriveTimeId),flightClass:z.optionIdToText(W,e.flightClassId),maxPrice:e.maxPrice,sortBy:z.optionIdToText(J,e.sortById)}};var He={current:0},Ke=function(e){sessionStorage.setItem("bk",JSON.stringify(e))},Ye=function(){return JSON.parse(sessionStorage.getItem("bk"))},ze=function(e,t){var a=Ye();if(a)return a[e]=t,Ke(a)},Xe={getAll:function(){return Ye()||Ke(He),Ye()},get:function(e){var t=Ye();if(t)return t[e]},navNext:function(){ze("current",function(e){var t=Ye();if(t)return t[e]}("current")+1)},navTo:function(e){ze("current",e)},remove:function(){sessionStorage.removeItem("bk")}},We={isRoundTrip:!1,searchInputs:{flightFrom:"",flightTo:""},dateInputs:{fromDate:"",toDate:""},arriveTimeId:"",departTimeId:"",numOfPassengers:1,flightClassId:"",maxPrice:0,sortById:""},Je=function(){$e()||Ze(We)},Ze=function(e){sessionStorage.setItem("srch",JSON.stringify(e))},$e=function(){return JSON.parse(sessionStorage.getItem("srch"))},qe={getAll:function(){return Je(),$e()},get:function(e){var t=$e();if(t)return t[e]},set:function(e,t){Je();var a=$e();if(a)return a[e]=t,Ze(a)},setMultiple:function(e){Je();var t=$e();if(t)return Object.keys(e).forEach(function(a){t[a]=e[a]}),Ze(t)},remove:function(){sessionStorage.removeItem("srch")}},Qe={ticket:{departFlight:null,returnFlight:null}},et=function(e){sessionStorage.setItem("tkt",JSON.stringify(e))},tt=function(){return JSON.parse(sessionStorage.getItem("tkt"))},at={getAll:function(){return tt()||et(Qe),tt()},get:function(e){var t=tt();if(t)return t[e]},set:function(e,t){var a=tt();if(a)return a.ticket[e]=t,et(a)},validForReservation:function(e){var t=tt();if(t){var a=t.ticket,n=a.departFlight,r=a.returnFlight;return e&&null!==n&&null!==r||!e&&null!==n}return!1},clearSession:function(){return et(Qe)},remove:function(){sessionStorage.removeItem("tkt")}};function nt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function rt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?nt(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var it=rt({},Xe.getAll(),{},qe.getAll(),{},at.getAll(),{validForReservation:at.validForReservation(qe.get("isRoundTrip")),departFlights:void 0,returnFlights:void 0,searchResultsLoaded:!1});function st(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var lt={list:[]};var ct=Object(Fe.c)({background:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be;switch((arguments.length>1?arguments[1]:void 0).type){case Re.SET_AUTHENTICATED:return Le({},e,{authenticated:!0});case Re.SET_UNAUTHENTICATED:return Le({},e,{authenticated:!1});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re.SET_USER:return Ue({},e,{info:Ue({},t.info),preference:Ve(t.preference)});case"SET_CONFIRM_STATUS":return Ue({},e,{confirmedRecoveryLink:t.status});case"SET_PREFERENCE":return Ue({},e,{preference:Ve(t.preference)});case"SET_USER_FLIGHTS":return Ue({},e,{flights:t.flights});case"SET_UPDATED_BOOKING_DETAIL":var a=e.bookingPassengers;return a[t.id].isChecked=t.isChecked,Ue({},e,{bookingPassengers:a});case"SET_USER_BOOKING_DETAIL":return Ue({},e,{bookingPassengers:t.bookingPassengers});default:return e}},booking:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_APPLY_SEARCH":qe.setMultiple(rt({},t.payload));var a=e.current;return t.isReload||(Xe.navNext(),a+=1),rt({},e,{},t.payload,{},t.ticketList,{current:a,searchResultsLoaded:!0});case"SET_VALID_TO_RESERVATION":at.set(t.tripType,t.selected);var n=at.validForReservation(e.isRoundTrip);return rt({},e,{},at.getAll(),{validForReservation:n});case"SET_TO_RESERVATION":return Xe.navNext(),rt({},e,{current:e.current+1});case"SET_GO_SEARCH":return Xe.navTo(0),at.clearSession(),rt({},e,{validForReservation:!1,ticket:{departFlight:null,returnFlight:null},current:0});case"SET_FINALIZE_BOOKING":return Xe.remove(),qe.remove(),at.remove(),rt({},e);default:return rt({},e)}},airport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AIRPORTS":return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?st(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):st(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{list:t.airportList});default:return e}}}),ot=a(5),ut=a.n(ot),mt=a(4),dt="/api/user",pt={App:{load:"".concat("/api")},user:{signedin:"".concat(dt,"/signedin"),signup:"".concat(dt,"/signup"),signin:"".concat(dt,"/signin"),signout:"".concat(dt,"/signout"),recoverylink:"".concat(dt,"/recoverylink"),confirmrecoverylink:"".concat(dt,"/confirmrecoverylink"),updatepassword:"".concat(dt,"/updatepassword"),updatepreference:"".concat(dt,"/updatepreference"),getflights:"".concat(dt,"/getflights"),getbookingdetail:"".concat(dt,"/getbookingdetail"),cancelbooking:"".concat(dt,"/cancelbooking")},airport:{getlist:"".concat("/api/airport")},flight:{searchflight:"".concat("/api/flight"),finalizebooking:"".concat("/api/flight","/finalizebooking")}},gt=a(21),ft=a.n(gt),ht={signedIn:function(){return ft.a.get(pt.user.signedin)},signUp:function(e){return ft.a.post(pt.user.signup,e)},signIn:function(e){return ft.a.post(pt.user.signin,e)},signOut:function(){return ft.a.get(pt.user.signout)},sendRecoveryLink:function(e){return ft.a.get("".concat(pt.user.recoverylink,"?email=").concat(e))},confirmRecoveryLink:function(e){return ft.a.get("".concat(pt.user.confirmrecoverylink,"?link=").concat(e))},updatePassword:function(e){return ft.a.post(pt.user.updatepassword,e)},updatePreference:function(e){return ft.a.put(pt.user.updatepreference,e)},getFlights:function(){return ft.a.get(pt.user.getflights)},getBookingDetail:function(e){return ft.a.get("".concat(pt.user.getbookingdetail,"?bn=").concat(e))},cancelBooking:function(e){return ft.a.post("".concat(pt.user.cancelbooking),e)},getAirportList:function(){return ft.a.get(pt.airport.getlist)},searchFlight:function(e){return ft.a.get(pt.flight.searchflight+"?"+e)},finalizeBooking:function(e){return ft.a.post(pt.flight.finalizebooking,e)}},kt=ut.a.mark(Ot),Et=ut.a.mark(wt);function bt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function vt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?bt(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function Ot(){var e;return ut.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(mt.b)(ht.signedIn);case 2:if(""===(e=t.sent).data){t.next=10;break}return t.next=6,Object(mt.c)({type:Re.SET_USER,info:vt({},e.data.info),preference:vt({},e.data.preference)});case 6:return t.next=8,Object(mt.c)({type:Re.SET_AUTHENTICATED});case 8:t.next=13;break;case 10:return sessionStorage.clear(),t.next=13,Object(mt.c)({type:Re.SET_UNAUTHENTICATED});case 13:case"end":return t.stop()}},kt)}function wt(){return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(mt.a)([Ot()]);case 2:case"end":return e.stop()}},Et)}function yt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Nt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?yt(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Tt=ut.a.mark(Lt),Pt=ut.a.mark(Bt),jt=ut.a.mark(Gt),It=ut.a.mark(Ut),St=ut.a.mark(Mt),Dt=ut.a.mark(Vt),xt=ut.a.mark(Ht),Ft=ut.a.mark(Kt),_t=ut.a.mark(Yt),At=ut.a.mark(zt),Rt=ut.a.mark(Xt),Ct=ut.a.mark(Wt);function Lt(e){var t,a,n;return ut.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=e.callback,r.prev=1,r.next=4,Object(mt.b)(ht.signUp,t);case 4:n=r.sent,a(n.data),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),v.a.notification(r.t0.message,{status:"danger",timeout:2e3});case 11:case"end":return r.stop()}},Tt,null,[[1,8]])}function Bt(e){var t,a,n;return ut.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(mt.b)(ht.signIn,t);case 4:if(!(a=r.sent)||""===a.data){r.next=14;break}return n=a.data,r.next=9,Object(mt.c)({type:Re.SET_USER,info:Nt({},n.info),preference:Nt({},n.preference)});case 9:return r.next=11,Object(mt.c)({type:Re.SET_AUTHENTICATED});case 11:v.a.notification("Successfully signed in as: ".concat(n.info.firstName),{timeout:2e3}),r.next=15;break;case 14:v.a.notification("Email/ password is not correct",{timeout:2e3});case 15:r.next=20;break;case 17:r.prev=17,r.t0=r.catch(1),v.a.notification(r.t0.message,{status:"danger",timeout:2e3});case 20:case"end":return r.stop()}},Pt,null,[[1,17]])}function Gt(){return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(mt.b)(ht.signOut);case 3:return sessionStorage.clear(),e.next=6,Object(mt.c)({type:Re.SET_UNAUTHENTICATED});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),v.a.notification(e.t0.message,{status:"danger",timeout:2e3});case 11:case"end":return e.stop()}},jt,null,[[0,8]])}function Ut(e){var t,a;return ut.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.email,n.prev=1,n.next=4,Object(mt.b)(ht.sendRecoveryLink,t);case 4:if("success"!==(a=n.sent).data){n.next=8;break}return v.a.modal.dialog("<p class='uk-modal-body' style='color:green;'>Successfully sent recovery link. If you don't see it, please check Spam box</p>"),n.abrupt("return",v.a.modal("#forgotPassword").hide());case 8:v.a.notification(a.data,{status:"danger",timeout:2e3}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),v.a.notification(n.t0.message,{status:"danger",timeout:2e3});case 14:case"end":return n.stop()}},It,null,[[1,11]])}function Mt(e){var t,a;return ut.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.link,a=!1,n.prev=2,n.next=5,Object(mt.b)(ht.confirmRecoveryLink,t);case 5:a=!0,n.next=14;break;case 8:if(n.prev=8,n.t0=n.catch(2),!n.t0.message.endsWith("404")){n.next=13;break}return v.a.notification("Recovery link expired",{status:"danger",timeout:3e3}),n.abrupt("return",setTimeout(function(){return window.location.href="/"},3500));case 13:v.a.notification(n.t0.message,{status:"danger",timeout:2e3});case 14:return n.next=16,Object(mt.c)({type:"SET_CONFIRM_STATUS",status:a});case 16:case"end":return n.stop()}},St,null,[[2,8]])}function Vt(e){var t;return ut.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(mt.b)(ht.updatePassword,t);case 4:if(v.a.notification("Successfully updated new password".concat(t.ID?"":". Please sign in"),{status:"success",timeout:3e3}),!t.link){a.next=9;break}return a.abrupt("return",setTimeout(function(){return window.location.href="/"},3500));case 9:v.a.accordion("#user-profile").toggle(1);case 10:a.next=17;break;case 12:if(a.prev=12,a.t0=a.catch(1),!a.t0.message.endsWith("500")){a.next=16;break}return a.abrupt("return",v.a.notification("Current Password is not correct",{status:"danger",timeout:2e3}));case 16:v.a.notification(a.t0.message,{status:"danger",timeout:2e3});case 17:case"end":return a.stop()}},Dt,null,[[1,12]])}function Ht(e){var t;return ut.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(mt.b)(ht.updatePreference,t);case 4:return a.next=6,Object(mt.c)({type:"SET_PREFERENCE",preference:t});case 6:v.a.notification("Successfully updated preference",{status:"success",timeout:3e3}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),v.a.notification(a.t0.message,{status:"danger",timeout:2e3});case 12:case"end":return a.stop()}},xt,null,[[1,9]])}function Kt(){var e;return ut.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(mt.b)(ht.getFlights);case 3:return e=t.sent,t.next=6,Object(mt.c)({type:"SET_USER_FLIGHTS",flights:e.data});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),v.a.notification(t.t0.message,{status:"danger",timeout:2e3});case 11:case"end":return t.stop()}},Ft,null,[[0,8]])}function Yt(e){var t,a;return ut.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.bookingNumber,n.prev=1,n.next=4,Object(mt.b)(ht.getBookingDetail,t);case 4:return a=n.sent,n.next=7,Object(mt.c)({type:"SET_USER_BOOKING_DETAIL",bookingPassengers:a.data});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),v.a.notification(n.t0.message,{status:"danger",timeout:2e3});case 12:case"end":return n.stop()}},_t,null,[[1,9]])}function zt(e){var t,a;return ut.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.id,a=e.isChecked,n.next=3,Object(mt.c)({type:"SET_UPDATED_BOOKING_DETAIL",id:t,isChecked:a});case 3:case"end":return n.stop()}},At)}function Xt(e){var t,a,n,r;return ut.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:t=e.path,a=e.bookingNumber,n=e.cancellations,r=e.originalList;try{v.a.modal.confirm("Are you sure to cancel reservation?").then(function(){var e=n.length===r.length;ht.cancelBooking({isAll:e,bookingNumber:a,cancellations:n}).then(function(a){if(e||r.filter(function(e){return!e.isChecked}).length===n.length)return v.a.modal.dialog("<p class='uk-modal-body' style='color:green;'>Successfully cancelled booking</p>"),window.location.href="/";window.location.href=t})},function(){})}catch(s){v.a.notification(s.message,{status:"danger",timeout:2e3})}case 2:case"end":return i.stop()}},Rt)}function Wt(){return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(mt.a)([Object(mt.e)(Re.SIGN_UP,Lt),Object(mt.e)(Re.SIGN_IN,Bt),Object(mt.e)(Re.SIGN_OUT,Gt),Object(mt.e)(Re.SEND_RECOVERY_LINK,Ut),Object(mt.e)(Re.CONFIRM_RECOVERY_LINK,Mt),Object(mt.e)(Re.UPDATE_PASSWORD,Vt),Object(mt.e)(Re.UPDATE_PREFERENCE,Ht),Object(mt.e)(Re.USER_GET_FLIGHTS,Kt),Object(mt.e)(Re.GET_BOOKING_DETAIL,Yt),Object(mt.d)(Re.UPDATE_BOOKING,zt),Object(mt.e)(Re.CANCEL_BOOKING,Xt)]);case 2:case"end":return e.stop()}},Ct)}var Jt={getSearchFlightCall:function(e){var t=e.isRoundTrip,a=e.searchInputs,n=e.dateInputs,r=e.maxPrice,i=e.numOfPassengers,s=e.sortById,l=e.flightClassId,c=e.departTimeId,o=e.arriveTimeId,u=Object(F.default)(n.fromDate,"yyyy/MM/dd"),m="";if(m+="roundtrip=".concat(t?"y":"n","&"),m+="depart=".concat(a.flightFrom,"|").concat(u,"|").concat(c,"&arrive=").concat(a.flightTo),t){var d=Object(F.default)(n.toDate,"yyyy/MM/dd");m+="|".concat(d,"|").concat(o)}return m+="&fclass=".concat(l,"&max=").concat(r,"&passengers=").concat(i,"&sort=").concat(s)}},Zt=ut.a.mark(aa),$t=ut.a.mark(na),qt=ut.a.mark(ra),Qt=ut.a.mark(ia),ea=ut.a.mark(sa),ta=ut.a.mark(la);function aa(e){var t,a,n,r,i;return ut.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.inputs,a=t,n=!1,s.prev=3,a||(n=!0,a={isRoundTrip:qe.get("isRoundTrip"),searchInputs:{flightFrom:qe.get("searchInputs").flightFrom,flightTo:qe.get("searchInputs").flightTo},maxPrice:qe.get("maxPrice"),dateInputs:{fromDate:new Date(qe.get("dateInputs").fromDate),toDate:new Date(qe.get("dateInputs").toDate)},departTimeId:qe.get("departTimeId"),arriveTimeId:qe.get("arriveTimeId"),numOfPassengers:qe.get("numOfPassengers"),flightClassId:qe.get("flightClassId"),sortById:qe.get("sortById")}),r=Jt.getSearchFlightCall(a),s.next=8,Object(mt.b)(ht.searchFlight,r);case 8:return i=s.sent,s.next=11,Object(mt.c)({type:"SET_APPLY_SEARCH",payload:a,ticketList:i.data,isReload:n});case 11:s.next=16;break;case 13:s.prev=13,s.t0=s.catch(3),v.a.notification(s.t0.message,{status:"danger",timeout:2e3});case 16:return s.prev=16,a=null,s.finish(16);case 19:case"end":return s.stop()}},Zt,null,[[3,13,16,19]])}function na(){return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(mt.c)({type:"SET_GO_SEARCH"});case 2:case"end":return e.stop()}},$t)}function ra(e){var t,a;return ut.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.tripType,a=e.selected,n.next=3,Object(mt.c)({type:"SET_VALID_TO_RESERVATION",tripType:t,selected:a});case 3:case"end":return n.stop()}},qt)}function ia(){return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(mt.c)({type:"SET_TO_RESERVATION"});case 2:case"end":return e.stop()}},Qt)}function sa(e){var t;return ut.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(mt.b)(ht.finalizeBooking,t);case 4:return a.next=6,Object(mt.c)({type:"SET_FINALIZE_BOOKING"});case 6:v.a.modal.dialog("<p class='uk-modal-body' style='color:green;'>Thanks for choosing our flight service</p>"),window.location.href="/",a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0),v.a.notification(a.t0.message,{status:"danger",timeout:2e3});case 14:case"end":return a.stop()}},ea,null,[[1,10]])}function la(){return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(mt.a)([Object(mt.e)(Re.APPLY_SEARCH,aa),Object(mt.e)(Re.GO_SEARCH,na),Object(mt.d)(Re.IS_NEXT_RESERVATION,ra),Object(mt.e)(Re.TO_RESERVATION,ia),Object(mt.e)(Re.FINALIZE_BOOKING,sa)]);case 2:case"end":return e.stop()}},ta)}var ca=ut.a.mark(ua),oa=ut.a.mark(ma);function ua(){var e,t;return ut.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(mt.b)(ht.getAirportList);case 3:return e=a.sent,t=[],e.data.map(function(e){return t.push("".concat(e.name,", ").concat(e.code," (").concat(e.city,", ").concat(e.state,")"))}),a.next=8,Object(mt.c)({type:"SET_AIRPORTS",airportList:t});case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),alert(a.t0.message);case 13:case"end":return a.stop()}},ca,null,[[0,10]])}function ma(){return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(mt.a)([Object(mt.e)(Re.GET_AIRPORTS,ua)]);case 2:case"end":return e.stop()}},oa)}var da=ut.a.mark(pa);function pa(){return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(mt.a)([wt(),Wt(),la(),ma()]);case 2:case"end":return e.stop()}},da)}var ga=Object(_e.a)(),fa=[Ae.a,ga];var ha=Object(Fe.e)(ct,Object(Fe.d)(Fe.a.apply(void 0,fa)));ga.run(pa);var ka=ha;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(xe.a,null,r.a.createElement(l.a,{store:ka},r.a.createElement(function(e){var t,a=Object(l.d)(function(e){return{authenticated:e.background.authenticated}}).authenticated;return r.a.createElement("div",{className:"App"},null!==a&&r.a.createElement(c.d,null,(t={authenticated:a,defaultAuthenticatedPath:"/dashboard"},Te.map(function(e){return r.a.createElement(e.requiredAuthentication?je:c.b,Se({key:e.id},e,{},t),null)}))))},null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},90:function(e,t,a){e.exports=a(172)},95:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.614108ba.chunk.js.map